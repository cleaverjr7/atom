parameters:
  atom_channel: dev
  atom_app: Atom Dev.app

steps:
- bash: |
    set -x
    curl -s -L "https://atom.io/download/mac?channel=${{ parameters.atom_channel }}" \
      -H 'Accept: application/octet-stream' \
      -o "atom.zip"
    mkdir -p /tmp/atom
    unzip -q atom.zip -d /tmp/atom
  displayName: install Atom
- bash: |
    "/tmp/atom/${{ parameters.atom_app }}/Contents/Resources/app/apm/bin/apm" ci
  displayName: install dependencies
