{
  "beforeRunningCommand": "nop",
  "command": "#!/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby -rjcode -Ku\nSUPPORT = ENV['TM_SUPPORT_PATH']\nDIALOG = ENV['DIALOG']\nrequire SUPPORT + '/lib/escape'\nrequire SUPPORT + '/lib/osx/plist'\nrequire SUPPORT + '/lib/exit_codes'\nrequire \"#{ENV['TM_BUNDLE_SUPPORT']}/lib/yahoo\"\n\ninput = STDIN.read\nquery = e_url(input)\nyahoo = RelatedSuggestion.new('TM_YAHOO', query, 'all', 10, 1, nil, 1)\nysuggest = []\n    yahoo.parse_analysis.each {|result| \n        ysuggest << { \n          'title' => result}\n    }\n    plist = { 'menuItems' => ysuggest }.to_plist\n\n    res = OSX::PropertyList.load(`#{e_sh DIALOG} -up #{e_sh plist}`)\n    abort unless res.has_key? 'selectedMenuItem'\n    TextMate.exit_replace_text res['selectedMenuItem']['title']",
  "fallbackInput": "word",
  "input": "selection",
  "keyEquivalent": "^Y",
  "name": "Yahoo Related Suggestion",
  "output": "replaceSelectedText",
  "scope": "text"
}
