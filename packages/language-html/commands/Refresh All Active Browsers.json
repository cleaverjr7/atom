{
  "beforeRunningCommand": "saveActiveFile",
  "command": "#!/usr/bin/env bash\n[[ -f \"${TM_SUPPORT_PATH}/lib/bash_init.sh\" ]] && . \"${TM_SUPPORT_PATH}/lib/bash_init.sh\"\n\n###\tRefresh All Active Browsers - OmniWeb, Safari, Firefox & IE\n### v1.0. 2005-03-29\n###\n\n# Check if Internet Explorer is running, if so refresh\nps -xc|grep -sq \"Internet Explorer\" && osascript -e 'tell app \"Internet Explorer\"' -e 'activate' -e 'OpenURL \"JavaScript:window.location.reload();\" toWindow -1' -e 'end tell'\n\n# Check if OmniWeb is running, if so refresh\nps -xc|grep -sq OmniWeb && osascript -e 'tell app \"OmniWeb\"' -e 'activate' -e 'reload first browser' -e 'end tell'\n\n# Check if Firefox is running, if so refresh\nps -xc|grep -sqi firefox && osascript <<'APPLESCRIPT'\n   tell app \"Firefox\" to activate\n   tell app \"System Events\"\n      if UI elements enabled then\n         keystroke \"r\" using command down\n         -- Fails if System Preferences > Universal access > \"Enable access for assistive devices\" is not on \n      else\n         -- Comment out until Firefox regains Applescript support\n         -- tell app \"Firefox\" to Get URL \"JavaScript:window.location.reload();\" inside window 1\n         -- Fails if Firefox is set to open URLs from external apps in new tabs.\n      end if\n   end tell\nAPPLESCRIPT\n\n# Check if Safari is running, if so refresh\nps -xc|grep -sq Safari && osascript -e 'tell app \"Safari\"' -e 'activate' -e 'do JavaScript \"window.location.reload();\" in first document' -e 'end tell'\n\n# Check if Camino is running, if so refresh \nps -xc|grep -sq Camino && osascript -e 'tell app \"Camino\"' -e 'activate' -e 'tell app \"System Events\" to keystroke \"r\" using {command down}' -e 'end tell'\n\n# Check if Chrome is running, if so refresh \nps -xc|grep -sq Chrome && osascript -e 'tell app \"Google Chrome\"' -e 'activate' -e 'tell app \"System Events\" to keystroke \"r\" using {command down}' -e 'end tell'\n\ntrue",
  "input": "none",
  "inputFormat": "text",
  "keyEquivalent": "@r",
  "name": "Refresh Running Browser(s)",
  "outputCaret": "afterOutput",
  "outputFormat": "text",
  "outputLocation": "discard",
  "scope": "text.html, source.css",
  "version": 2
}
