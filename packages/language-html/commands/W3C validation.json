{
  "beforeRunningCommand": "nop",
  "command": "#!/System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/bin/ruby  -wKU\nSTDOUT.sync = true\n\npage = STDIN.read\npage.gsub!(/<\\?(php|=).*?\\?>|<%.*?%>/m, '')\n\nopen('|curl -sF uploaded_file=@-\\;type=text/html http://validator.w3.org/check', 'r+') do |io|\n  io << page; io.close_write\n\n  result = io.read\n\n  result.gsub!(/<\\/title>/, '\\&<base href=\"http://validator.w3.org/\">')\n  result.gsub!(/Line (\\d+),?\\s*Column (\\d+)/mi) do\n    \"<a href=\\\"txmt://open?line=#$1&amp;column=#{$2.to_i + 1}\\\">#$&</a>\"\n  end\n  puts result\nend\n",
  "dontFollowNewOutput": true,
  "input": "document",
  "keyEquivalent": "^V",
  "name": "Validate Syntax (W3C)",
  "output": "showAsHTML",
  "scope": "text.html"
}
